[gd_resource type="Resource" load_steps=4 format=3 uid="uid://dg4yrlb0jkdpu"]

[ext_resource type="Texture2D" uid="uid://hyk7fa8h7yhy" path="res://assets/sprites/fist.png" id="1_em0ht"]
[ext_resource type="AudioStream" uid="uid://ts423b3gvpso" path="res://assets/sound/axe.ogg" id="2_nbqwd"]

[sub_resource type="GDScript" id="GDScript_jpmgi"]
script/source = "extends CardData

@export var damage: int = 15

func apply_effects(targets: Array[Node], modifiers: ModifierHandler) -> void:
	#var damage_effect := DamageEffect.new()
	#damage_effect.sfx = sfx
	#damage_effect.apply(targets, damage)
	#var draw_effect := DrawEffect.new()
	#draw_effect.apply(hero, 2)
	var modified_damage := modifiers.get_modified_value(damage, Modifier.Type.DMG_DEALT)
	Apply.damage(targets, modified_damage)
	Apply.draw(2)
	SFXPlayer.play(sfx)

func get_default_description() -> String:
	return description % damage

func get_updated_description(hero_modifiers: ModifierHandler, enemy_modifiers: ModifierHandler) -> String:
	var modified_damage := hero_modifiers.get_modified_value(damage, Modifier.Type.DMG_DEALT)
	if enemy_modifiers:
		modified_damage = enemy_modifiers.get_modified_value(modified_damage, Modifier.Type.DMG_TAKEN)
	return description % modified_damage
"

[resource]
script = SubResource("GDScript_jpmgi")
name = "Pursue"
art = ExtResource("1_em0ht")
description = "Deal %s damage.
Draw 2 cards."
sfx = ExtResource("2_nbqwd")
cost = 2
